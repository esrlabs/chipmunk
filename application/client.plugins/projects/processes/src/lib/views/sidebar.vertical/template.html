<div *ngIf="!_ng_ready">
    <lib-primitive-spinner-regular></lib-primitive-spinner-regular>
</div>

<div class="wrapper" *ngIf="_ng_ready && _ng_settings !== undefined">
    <p class="t-normal">Environment vars</p>
    <ul class="env-vars">
        <li *ngFor="let envvar of _ng_envvars">
            <span class="key t-console">{{envvar.key}}</span>
            <span class="value t-console">{{envvar.value}}</span>
        </li>
    </ul>
    <p class="t-normal">Shell</p>
    <p class="t-console crop">{{_ng_settings.shell}}</p>
    <p class="t-normal">Cwd</p>
    <p class="t-console crop">{{_ng_settings.cwd}}</p>
</div>

<ul *ngIf="_ng_ready">
    <li *ngFor="let process of _ng_processes">
        <div [attr.class]="'container ' + (process._ng_working ? 'working' : 'free')">
            <div class="comstyle-input-holder input-wrapper">
                <div class="comstyle-input">
                    <input #cmdinput
                        class="comstyle-input"
                        [attr.disabled]="process._ng_working ? '' : null"
                        type="text"
                        placeholder="command or path to program to be executed"
                        [(ngModel)]="process._ng_cmd"
                        (keyup)="process._ng_onKeyUp($event)"/>
                </div>
            </div>
            <div class="buttons" *ngIf="process._ng_working">
                <span class="small-button" (click)="process._ng_onStop($event)">Stop</span>
            </div>
            <div class="spinner" *ngIf="process._ng_working">
                <lib-primitive-spinner-regular></lib-primitive-spinner-regular>
            </div>
        </div>
        <span class="splitter"></span>
    </li>
</ul>

<div class="container input-outside-border">
    <button tabindex="-1" class="flat-codicon-button" [matMenuTriggerFor]="menu">
        <ng-container *ngIf="state.selected !== undefined">
            <span
                class="codicon codicon-terminal"
                [ngStyle]="{'color': state.getSourceColor(state.selected)}"
            ></span>
            <span class="label">{{state.selected.getOrigin().getTitle()}}</span>
        </ng-container>
        <ng-container *ngIf="state.selected === undefined">
            <span class="label">Loading...</span>
            <mat-spinner [diameter]="16"></mat-spinner>
        </ng-container>
    </button>
    <span class="t-normal prompt">&gt;&gt;</span>
    <app-autocomplete-input
        #sde
        [options]="options"
        (enter)="enter()"
        (panel)="panel()"
    ></app-autocomplete-input>
</div>
<mat-progress-bar *ngIf="state.progress" mode="indeterminate"></mat-progress-bar>
<mat-menu #menu="matMenu" class="app-views-sde-list">
    <p class="material-menu-label">Send command/data to:</p>
    <button
        mat-menu-item
        *ngFor="let operation of state.operations"
        [attr.data-selected]="state.isSelected(operation)"
        (click)="state.select(operation)"
    >
        <div class="source">
            <span class="marker" [ngStyle]="{'background': state.getSourceColor(operation)}"></span>
            <span class="major">{{operation.getOrigin().getTitle()}}</span>
            <span class="minor">{{operation.getOrigin().getDescription()}}</span>
        </div>
    </button>
</mat-menu>
